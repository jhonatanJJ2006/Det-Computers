{"version":3,"sources":["actores.js","eliminar.js"],"names":["actores","document","querySelector","actores2","actoresHidden","tagsDiv","Btn","nombre","sinopsis","imagen","genero","año","clasificacion","tags","guardarTag","e","keyCode","target","value","trim","preventDefault","mostrarActores","textContent","forEach","tag","etiqueta","createElement","classList","add","ondblclick","eliminarTag","appendChild","remove","filter","addEventListener","errores","archivo","files","Swal","fire","title","html","icon","showCloseButton","showCancelButton","focusConfirm","confirmButtonText","confirmButtonColor","cancelButtonColor","text","allowOutsideClick","then","result","isConfirmed","datos","FormData","append","fetch","method","body","respuesta","window","location","href","getAttribute","actoresEditados","split","length","join","eliminarBtn","querySelectorAll","eliminarInformacion","id","cancelButtonText","reload","btn"],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\r\n\r\n    const actores = document.querySelector('#actores');\r\n    const actores2 = document.querySelector('#actores2');\r\n    const actoresHidden = document.querySelector('#actoresHidden');\r\n    const tagsDiv = document.querySelector('.tagsDiv');\r\n    const Btn = document.querySelector('.dashboard__btn');\r\n\r\n    // Formulario\r\n    const nombre = document.querySelector('[name=\"nombre\"]');\r\n    const sinopsis = document.querySelector('[name=\"sinopsis\"]');\r\n    const imagen = document.querySelector('[name=\"imagen\"]');\r\n    const genero = document.querySelector('[name=\"genero\"]');\r\n    const año = document.querySelector('[name=\"año\"]');\r\n    const clasificacion = document.querySelector('[name=\"clasificacion\"]');\r\n\r\n    if (actores) {\r\n\r\n        let tags = [];\r\n\r\n        actores.addEventListener('keypress', guardarTag)\r\n\r\n        function guardarTag(e) {\r\n\r\n            if (e.keyCode === 44) {\r\n\r\n                if (e.target.value.trim() === '' || e.target.value < 3) {\r\n                    return\r\n                }\r\n\r\n                e.preventDefault();\r\n\r\n                tags = [...tags, e.target.value.trim()]\r\n\r\n                actoresHidden.value = tags;\r\n\r\n                e.target.value = '';\r\n\r\n                mostrarActores();\r\n\r\n            }\r\n\r\n        }\r\n\r\n        function mostrarActores() {\r\n            tagsDiv.textContent = '';\r\n            tags.forEach(tag => {\r\n                const etiqueta = document.createElement('li');\r\n                etiqueta.classList.add('formulario__tag');\r\n                etiqueta.textContent = tag;\r\n                etiqueta.ondblclick = eliminarTag\r\n                tagsDiv.appendChild(etiqueta);\r\n            });\r\n        }\r\n\r\n        function eliminarTag(e) {\r\n            e.target.remove();\r\n            tags = tags.filter(tag => tag !== e.target.textContent);\r\n            actoresHidden.value = tags;\r\n        }\r\n\r\n        Btn.addEventListener('click', enviarPost)\r\n\r\n        function enviarPost() {\r\n\r\n            let errores = '';\r\n\r\n            if (nombre.value.trim() === '') {\r\n                errores += '<p class=\"alerta alerta__error\">El campo Nombre está vacío</p>';\r\n            }\r\n\r\n            if (sinopsis.value.trim() === '') {\r\n                errores += '<p class=\"alerta alerta__error\">El campo Sinopsis está vacío</p>';\r\n            }\r\n\r\n            // Obtener el archivo de imagen seleccionado\r\n            const archivo = imagen.files[0];\r\n\r\n            if (!archivo) {\r\n                errores += '<p class=\"alerta alerta__error\">Debe seleccionar una imagen</p>';\r\n            }\r\n\r\n            if (genero.value.trim() === '') {\r\n                errores += '<p class=\"alerta alerta__error\">El campo Género está vacío</p>';\r\n            }\r\n\r\n            if (año.value.trim() === '') {\r\n                errores += '<p class=\"alerta alerta__error\">El campo Año está vacío</p>';\r\n            }\r\n\r\n            if (clasificacion.value.trim() === '') {\r\n                errores += '<p class=\"alerta alerta__error\">El campo Claisficación está vacío</p>';\r\n            }\r\n\r\n            if (actoresHidden.value.trim() === '') {\r\n                errores += '<p class=\"alerta alerta__error\">El campo Actores está vacío</p>';\r\n            }\r\n\r\n            if (errores !== '') {\r\n                Swal.fire({\r\n                    title: 'Errores',\r\n                    html: errores,\r\n                    icon: 'error',\r\n                    showCloseButton: true,\r\n                    showCancelButton: false,\r\n                    focusConfirm: false,\r\n                    confirmButtonText: 'Aceptar',\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33'\r\n                });\r\n\r\n            } else {\r\n\r\n                Swal.fire({\r\n                    title: 'Información guardada',\r\n                    text: 'La información se ha guardado correctamente',\r\n                    icon: 'success',\r\n                    confirmButtonText: 'Aceptar',\r\n                    confirmButtonColor: '#3085d6',\r\n                    allowOutsideClick: false,\r\n                    showCancelButton: false,\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n\r\n                        const datos = new FormData();\r\n                        datos.append('nombre', nombre.value.trim());\r\n                        datos.append('sinopsis', sinopsis.value.trim());\r\n                        datos.append('imagen', archivo);\r\n                        datos.append('genero', genero.value.trim());\r\n                        datos.append('año', año.value.trim());\r\n                        datos.append('actores', actoresHidden.value.trim());\r\n                        datos.append('clasificacion', clasificacion.value.trim());\r\n\r\n                        fetch('/admin-1a4f6c7e8b9d2a5f1c8e0b6d4a9f3c2', {\r\n                            method: 'POST',\r\n                            body: datos\r\n                        })\r\n                            .then(respuesta => {\r\n                                if (respuesta) {\r\n                                    window.location.href = '/admin-tabla-1a4f6c7e8b9d2a5f1c8e0b6d4a9f3c2';\r\n                                }\r\n                            })\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n    \r\n    if (actores2) {\r\n\r\n        const imagenActual = document.querySelector('#imagen-actual').getAttribute('data-imagen');\r\n        const id = document.querySelector('.id').getAttribute('data-id');\r\n\r\n        let tags = [];\r\n    \r\n        const actoresEditados = actoresHidden.value.split(',');\r\n    \r\n        tags = actoresEditados;\r\n    \r\n        mostrarActores();\r\n    \r\n        actores2.addEventListener('keypress', guardarTag);\r\n    \r\n        function guardarTag(e) {\r\n    \r\n            if (e.keyCode === 44) {\r\n    \r\n                if (e.target.value.trim() === '' || e.target.value.length < 3) {\r\n                    return;\r\n                }\r\n    \r\n                e.preventDefault();\r\n    \r\n                tags = [...tags, e.target.value.trim()];\r\n    \r\n                actoresHidden.value = tags.join(',');\r\n    \r\n                e.target.value = '';\r\n    \r\n                mostrarActores();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        function mostrarActores() {\r\n            tagsDiv.textContent = '';\r\n            tags.forEach(tag => {\r\n                const etiqueta = document.createElement('li');\r\n                etiqueta.classList.add('formulario__tag');\r\n                etiqueta.textContent = tag;\r\n                etiqueta.ondblclick = eliminarTag;\r\n                tagsDiv.appendChild(etiqueta);\r\n            });\r\n        }\r\n    \r\n        function eliminarTag(e) {\r\n            e.target.remove();\r\n            tags = tags.filter(tag => tag !== e.target.textContent);\r\n            actoresHidden.value = tags.join(',');\r\n        }    \r\n\r\n    }\r\n\r\n})();\r\n","(function() {\r\n\r\n    const eliminarBtn = document.querySelectorAll('.table__accion--logout');\r\n\r\n    if(eliminarBtn) {\r\n\r\n        eliminarBtn.forEach(btn => {\r\n            btn.addEventListener('click', eliminarInformacion);\r\n        })\r\n\r\n        function eliminarInformacion(e) {\r\n            const id = e.target.getAttribute('data-id');\r\n        \r\n            Swal.fire({\r\n                title: '¿Seguro que quieres eliminar?',\r\n                text: \"Esta acción no se puede deshacer\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Sí, eliminar',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then((result) => {\r\n                if(result.isConfirmed) {\r\n                    const datos = new FormData();\r\n                    datos.append('id', id);\r\n        \r\n                    fetch('/admin/info/eliminar-1a4f6c7e8b9d2a5f1c8e0b6d4a9f3c2', {\r\n                        method: 'POST',\r\n                        body: datos\r\n                    })\r\n                    .then(respuesta => {\r\n                        if (respuesta) {\r\n                            Swal.fire({\r\n                                title: 'Eliminado!',\r\n                                text: 'Tu archivo ha sido eliminado.',\r\n                                icon: 'success',\r\n                                allowOutsideClick: false, \r\n                                confirmButtonColor: '#3085d6',\r\n                                confirmButtonText: 'Ok'\r\n                            })\r\n                            .then((result) => {\r\n                                if (result.isConfirmed) {\r\n                                    window.location.reload();\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    \r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n})();"]}